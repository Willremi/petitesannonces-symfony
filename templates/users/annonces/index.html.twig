{% extends 'base.html.twig' %}

{% block title %}Gérer les annonces{% endblock %}

{% block body %}
    <h1>Gérer les annonces</h1>
    {% for message in app.flashes('message') %}
        <div class="col-xs4">
            <div class="p-3 my-2 rounded-2 success">{{ message }}</div>
        </div>
    {% endfor %}
    <table class="table striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>Titre</th>
        <th>Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
    {% for annonce in annonces %}
      <tr>
        <td>{{ annonce.id }}</td>
        <td>{{ annonce.title }}</td>
        <td>{{ annonce.createdAt|date }}</td>
        <td class="text-center">
            <a href="#" class="btn rounded-1 primary press modal-trigger" data-target="modal-delete" data-id="{{ annonce.id }}" data-titre="{{ annonce.title }}">Supprimer</a>
            <a href="{{ path("users_annonces_modif", {id: annonce.id}) }}" class="btn yellow">Modifier</a>
        </td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
 <div class="modal shadow-1 white falling" id="modal-delete" data-ax="modal">
  <div class="modal-header">Supprimer une annonce</div>

  <div class="divider"></div>

  <div class="modal-content">
  </div>

  <div class="divider"></div>

  <div class="modal-footer">
    <a href="#" class="btn yellow ml-auto">Confirmer</a>
    <button data-target="modal-delete" class="ml-auto btn shadow-1 rounded-1 small primary modal-trigger">Close</button>
  </div>
</div>
{% endblock %}
{% block javascripts %}
<script src="js/modal.js"></script>
{% endblock %}